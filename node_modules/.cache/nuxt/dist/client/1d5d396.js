(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{426:function(t,e,n){"use strict";n.r(e);var r=n(379),c=n(330),o=n(369),h=n(323),d=n(420),m=n(427),l=n(422),f=(n(25),n(31),n(59),n(26),n(15)),v=(n(83),n(8),n(70),n(37),n(58),{props:["name","image","description","price"],data:function(){return{slug:this.$route.params,dishes:[],nums:this.$route.params.id-1,carts:{},unpaidcarts:{},tquantity:0,titems:[],ttotal:0,alert:!1,number:1,enteredValue:""}},fetch:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){var t=this;return Object(f.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://634a16c333bb42dca4fe1722.mockapi.io/api/cart").then((function(t){return t.json()}));case 2:n=e.sent,t.carts=n,t.unpaidcarts=t.carts.filter((function(t){return!1===t.paid}));case 5:case"end":return e.stop()}}),e)})))()})),created:function(){var t=this;return Object(f.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://634a16c333bb42dca4fe1722.mockapi.io/api/food").then((function(t){return t.json()}));case 2:n=e.sent,t.dishes=n;case 4:case"end":return e.stop()}}),e)})))()},methods:{test:function(){this.unpaidcarts.length>0?this.postData("https://634a16c333bb42dca4fe1722.mockapi.io/api/cart",{}):this.createData("https://634a16c333bb42dca4fe1722.mockapi.io/api/cart",{}),this.handleClick()},postData:function(){var t=arguments,e=this;return Object(f.a)(regeneratorRuntime.mark((function n(){var r,data,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:"",t.length>1&&void 0!==t[1]?t[1]:{},e.dishes.length&&(e.titems=e.unpaidcarts[0].items,e.titems.push(e.dishes[e.nums]),e.ttotal=parseInt(e.unpaidcarts[0].total)+parseInt(e.dishes[e.nums].price)*parseInt(e.number),e.tquantity=parseInt(e.unpaidcarts[0].quantity)+parseInt(e.number)),data={items:e.titems,total:e.ttotal,quantity:e.tquantity},c=r+"/"+e.unpaidcarts[0].id,n.next=7,fetch(c,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(data)});case 7:e.$emit("update");case 8:case"end":return n.stop()}}),n)})))()},createData:function(){var t=arguments,e=this;return Object(f.a)(regeneratorRuntime.mark((function n(){var r,data,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:"",t.length>1&&void 0!==t[1]?t[1]:{},e.dishes.length&&(e.titems.push(e.dishes[e.nums]),e.ttotal=parseInt(e.ttotal)+parseInt(e.dishes[e.nums].price)*parseInt(e.number),e.tquantity=parseInt(e.tquantity)+parseInt(e.number)),data={items:e.titems,total:e.ttotal,quantity:e.tquantity},c=r,n.next=7,fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(data)});case 7:e.$emit("update");case 8:case"end":return n.stop()}}),n)})))()},updateDish:function(){var t=this;return Object(f.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$fetch();case 2:case"end":return e.stop()}}),e)})))()},handleClick:function(){var t=this;this.alert=!this.alert,setTimeout((function(){return t.alert=!t.alert}),1e3)},numberRule:function(t){return!(t<0)||"Please enter a positive number"},addNum:function(){this.goals.push(this.enteredValue),this.enteredValue=""}}}),y=v,w=n(69),component=Object(w.a)(y,(function(){var t=this,e=t._self._c;return e("section",[[e(o.a,{staticClass:"mx-auto my-12",attrs:{width:"350",height:"650"},on:{update:t.updateDish}},[e(m.a,{attrs:{height:"250",src:t.dishes.length&&t.dishes[t.nums].image}}),t._v(" "),e(h.c,[t._v(t._s(t.dishes.length&&t.dishes[t.nums].name))]),t._v(" "),e(h.b,[e("p",[t._v(t._s(t.dishes.length&&t.dishes[t.nums].description))])]),t._v(" "),e(d.a,{staticClass:"mx-4"}),t._v(" "),e(h.c,[e("h2",[t._v(t._s(t.dishes.length&&t.dishes[t.nums].price+" $"))])]),t._v(" "),e(h.b,[t._v("\n        Quantity\n        "),e(l.a,{ref:"input",attrs:{type:"number",step:"any",min:"1",rules:[t.numberRule]},model:{value:t.number,callback:function(e){t.number=t._n(e)},expression:"number"}})],1),t._v(" "),e(h.a,{staticClass:"justify-center"},[e(c.a,{staticClass:"white--text",attrs:{color:"black",width:"50%"},on:{click:function(e){return t.test()}}},[t._v("\n          Add to cart\n        ")])],1),t._v(" "),e(r.a,{staticClass:"d-fixed mx-auto mt-5",attrs:{color:"green",dense:"",type:"success",height:"40px",width:"170px",value:t.alert}},[t._v("\n        Success!\n      ")])],1)]],2)}),[],!1,null,null,null);e.default=component.exports}}]);